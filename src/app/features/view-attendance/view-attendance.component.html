<div class="container">
    <div class="head">
        <h1>Mark Student Attendance</h1>
    </div>
    <form [formGroup]="attendanceForm!">
        <div class="row my-5 details">
            <div class="col-lg-4 mx-5">
                <mat-form-field appearance="outline">
                    <mat-label>Select</mat-label>
                    <mat-select formControlName = "studentID" (selectionChange)="findStudent($event.value)">
                      <mat-option *ngFor = "let item of allStudent" [value]="item.studentID">{{item.studentID}}</mat-option>
                    </mat-select>
                    <mat-error
                        *ngIf="attendanceForm?.get('studentID')?.invalid && attendanceForm?.get('studentID')?.touched">{{getErrorMessage(studentID)}}</mat-error>
                </mat-form-field>
                <!-- <mat-hint style="color: red;" *ngIf=" && attendanceForm?.get('studentID')?.dirty&& attendanceForm?.get('studentID')?.touched"><span>*This field is not valid</span></mat-hint> -->
            </div>
            <div class="col-lg-4 mx-5">
                <mat-form-field appearance="outline">
                    <mat-label>Name</mat-label>
                    <input matInput type="text" formControlName="name" [value]="studentName">
                    <mat-error
                        *ngIf="attendanceForm?.get('name')?.invalid && attendanceForm?.get('name')?.touched">{{getErrorMessage(name)}}</mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row my-5 details">
            <div class="col-lg-4 mx-5">
                <mat-form-field appearance="outline">
                    <mat-label>Choose a date</mat-label>
                    <input formControlName = "date" matInput [matDatepicker]="picker">
                    <mat-hint>MM/DD/YYYY</mat-hint>
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error
                        *ngIf="attendanceForm?.get('date')?.invalid && attendanceForm?.get('date')?.touched">{{getErrorMessage(date)}}</mat-error>
                </mat-form-field>
            </div>
            <div class="col-lg-4 mx-5">
                <mat-form-field appearance="outline">
                    <mat-label>Status</mat-label>
                    <mat-select formControlName="status">
                        <input matInput type="text" placeholder="Status" required>
                        <mat-option value="Absent">Absent</mat-option>
                        <mat-option value="Present">Present</mat-option>
                    </mat-select>
                    <mat-error
                        *ngIf="attendanceForm?.get('status')?.invalid && attendanceForm?.get('status')?.touched">{{getErrorMessage(status)}}</mat-error>
                </mat-form-field>
            </div>
        </div>
    </form>
    <div class="d-flex justify-content-center pe-5 my-4 me-5 mb-lg-4">
        <button type="submit" class="btn btn-primary btn-lg" (click)="updateAttendance()" [disabled]="attendanceForm?.invalid" >Submit</button>
    </div>
</div>